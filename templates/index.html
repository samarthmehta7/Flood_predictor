<!DOCTYPE html>
<html>
  <head>
    <title>Flood Prediction Model</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }

      .container {
        width: 400px;
        margin: 100px auto;
      }

      h1 {
        text-align: center;
      }

      .dropdown,
      .input-box {
        margin-bottom: 20px;
      }

      .dropdown label {
        display: block;
        margin-bottom: 5px;
      }

      .dropdown select {
        width: 100%;
        padding: 8px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid #ccc;
      }

      .dropdown select:focus {
        outline: none;
        border-color: #0066cc;
      }

      .input-box label {
        display: block;
        margin-bottom: 5px;
      }

      .input-box input {
        width: 95.5%;
        padding: 8px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid #ccc;
      }

      .input-box input:focus {
        outline: none;
        border-color: #0066cc;
      }

      .center {
        text-align: center;
      }

      .button {
        padding: 10px 20px;
        background-color: #4caf50;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }

      .button:hover {
        background-color: #0052a3;
      }

      /* styles.css */
      /* Styles for the dark mode */
      body.dark-mode {
        background-color: #222;
        color: #fff;
      }

      /* Styles for the slider button */
      .slider-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
      }

      .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: 0.4s;
        transition: 0.4s;
      }

      .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: 0.4s;
        transition: 0.4s;
      }

      input:checked + .slider {
        background-color: #2196f3;
      }

      input:focus + .slider {
        box-shadow: 0 0 1px #2196f3;
      }

      input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
      }
    </style>
  </head>
  <body>
    <div class="slider-container">
      <label class="switch">
        <input type="checkbox" id="modeToggle" />
        <span class="slider round"></span>
      </label>
    </div>

    <form action="{{url_for('predict')}}" method="POST" on submit="">
      <div class="container">
        <h1>
          Flood Prediction & Destruction Calculation System for Urban Cities
        </h1>
        <div class="dropdown">
          <label for="location">State</label>
          <select id="location">
            <option value="">Select State</option>
            <option value="Haryana">Haryana</option>
            <option value="Punjab">Punjab</option>
          </select>
        </div>

        <div class="dropdown">
          <label for="City">City </label>
          <select id="city" name="city"></select>
        </div>

        <div class="input-box">
          <label for="dateInput">Select Month and Year:</label>
          <input
            type="month"
            id="dateInput"
            name="dateInput"
            min="2024-01"
            required
          />
        </div>

        <div class="center">
          <button class="button" onclick="submitForm()">Submit</button>
        </div>
      </div>
    </form>
    <script src="{{url_for('static', filename='script.js')}}"></script>

    <script>
      // script.js
      document.addEventListener("DOMContentLoaded", function () {
        // Check the local storage for the user's preferred mode
        const savedMode = localStorage.getItem("mode");

        // If a mode is saved, apply it; otherwise, default to light mode
        if (savedMode) {
          setMode(savedMode);
        } else {
          setMode("light-mode");
        }

        // Add event listener for the mode toggle
        const modeToggle = document.getElementById("modeToggle");
        modeToggle.addEventListener("change", handleModeToggle);
      });

      function handleModeToggle() {
        const modeToggle = document.getElementById("modeToggle");
        const mode = modeToggle.checked ? "dark-mode" : "light-mode";

        // Save the mode in local storage
        localStorage.setItem("mode", mode);

        // Apply the selected mode
        setMode(mode);
      }

      function setMode(mode) {
        document.body.className = mode;
      }
    </script>
  </body>
</html>
